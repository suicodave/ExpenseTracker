<div class="d-flex align-center">
    <MudText Color="Color.Primary"
        Class="my-4"
        Typo="Typo.h5">
        Budget Templates
    </MudText>

    <MudSpacer></MudSpacer>

    @if (_list is not null)
    {
        <CreateButton TForm="CreateBudgetTemplateForm"
        Title="Create Budget Template"
        OnCreated="_list.GetData">
            Create
        </CreateButton>
    }
</div>

<OrganizationDependentList TEntity="BudgetTemplateResponse"
    ListApiPath="BudgetTemplates"
    @ref="_list">
    <ListItem>
        <MudPaper Class="my-2 pa-6 rounded-lg d-flex justify-space-between align-center">
            <MudText Typo="Typo.h5">
                @context.AccountType.Name
            </MudText>

            <div class="d-flex justify-space-between align-center">
                <MudText Typo="Typo.h6"
                    class="mud-text-secondary mr-6">
                    @context.Amount.ToString("#,###.##")
                </MudText>
                <BudgetTemplateActiveStatusSwitcher BudgetTemplate="@context" />
            </div>


        </MudPaper>
    </ListItem>
</OrganizationDependentList>


@code {
    private OrganizationDependentList<BudgetTemplateResponse> _list = default!;
}